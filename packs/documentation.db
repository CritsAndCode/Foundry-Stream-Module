{"name":"Foundry Stream Module Documentation","permission":{"default":0,"w1x54ohimiGGgcC6":3},"flags":{"core":{"sourceId":"JournalEntry.mATlGTrUk9RwkBUe"}},"content":"<h1 style=\"text-align: center;\">Thank you for installing Foundry Stream Module!</h1>\n<div>\n<div><strong>Implements two-way communication between Foundry VTT and Twitch, allowing for two-way chat plus adds dice rolling requests, a tabbed chat window, a separate dice engine for just for viewers, event handling and several moderation commands directly into Foundry itself, bringing your streamed game to the next level of interactivity! I hope you enjoy the module and find it useful. Be sure to check out my other projects at&nbsp;<a href=\"https://www.patreon.com/tabletopsandanvils\" target=\"_blank\" rel=\"noopener\">https://www.patreon.com/tabletopsandanvils</a></strong></div>\n<h3 style=\"text-align: center;\">&nbsp;</h3>\n<h2 style=\"text-align: center;\"><strong>Documentation</strong></h2>\n<div>\n<h3><strong>Configuration:</strong></h3>\n<p><strong>First, a little note about my setup. My Twitch channel is TabletopsAndAnvils however I created a second account for a 'bot', you can search online how to enable your email address to be used to register another account. After registering the second account I logged in with both of my accounts using separate browsers and gave the new account /mod capabilities. Without them you will not be able to use many of the functions and features of Foundry Stream Module. I'm not saying that you have to do it this way, but I found it useful. Also, our streaming name is rather long and I figured fsMod is a lot shorter for those compelled to read every character in a chat!</strong></p>\n<div>&nbsp;</div>\n<div><strong>Twitch Channel </strong>- This is your Twitch stream name.</div>\n<div>&nbsp;</div>\n<div><strong>User Name</strong> - For your Twitch username or registered bot name, to be used in the future for sending messages back to</div>\n<div>Twitch. Capitalization may affect echoing. If you're not recieving messages from Twitch but messages are going out, try all lowercase for the user name.</div>\n<div>&nbsp;</div>\n<div><strong>Twitch OAuth Token</strong> - OAuth token for the user above. Without it you will only be able to recieve messages but rolls, chat etc will not be sent to Twitch. If you do not have a OAuth token for your Twitch stream, simply log in to Twitch with your browser, open a tab and go to https://twitchapps.com/tmi/ - follow the prompts and your OAuth token will be generated.</div>\n<div>&nbsp;</div>\n<div><strong>Moderation Level</strong> - A GM may need some help with moderating a Twitch stream. Set the minimum user roll level to have access to the moderation controls. Default setting is Gamemaster. This does not give the user access to the configuration of the module itself.</div>\n<div>&nbsp;</div>\n<div><strong>Chat Type</strong> - How the incoming messages from the stream should be assigned. Depending on the modules you may be running it might be desirable to change how the chat card is assigned so it appears where you want it. Default is Out of Character which is designed to work with the inline tabbed chat feature.</div>\n<div>&nbsp;</div>\n<div><strong>Send to Twitch</strong> - Check to send Foundry chat messages to Twitch channel.</div>\n<div>&nbsp;</div>\n<div><strong>Recieve from Twitch</strong> - Enable to recieve messages from your configured Twitch channel.</div>\n<div>Moderation Access Level` - Every once in a while a GM may need help with moderating a Twitch channel. Select user role to allow access to the module moderation controls.</div>\n<div>&nbsp;</div>\n<div><strong>Quiet Mode</strong> - Filters rolls such as attacks, checks and spells from being sent to Twitch, only allows OOC, IC, Emote and Other to be passed along to the stream.</div>\n<div>&nbsp;</div>\n<div><strong>Legacy Mode</strong> - Hides the tabbed chat, using legacy-style Foundry chat instead.</div>\n<div>&nbsp;</div>\n<div><strong>Hide in Stream View</strong> - Hide the tabbed chat in /stream view when using software such as OBS to create an overlay. Note, this does not effect the normal game view for you or your players.</div>\n<div>&nbsp;</div>\n<div><strong>IC to Twitch</strong> - Send in-character messages as Twitch messages. Automatically converts in-character messages to messages for Twitch sent from the Foundry tab. Messages from the Twitch tab all messages will be sent as the player name, not the character name.</div>\n<div>&nbsp;</div>\n<div><strong>Send Connect Message</strong> - Turn on/off announcement message when connecting to a Twitch channel chat.</div>\n<div>&nbsp;</div>\n<div><strong>Announcements</strong> - These are announcements to be broadcast to your channel every x seconds.</div>\n<div>&nbsp;</div>\n<div><strong>Chat Dice</strong> - Turn on/off the dice roller in Twitch Chat. FSM provides a very advance dice and mathematics engine and allows your viewers to take advantage of this and roll along with you and your players while not sending those rolls to Foundry. It works when a viewer types !roll dice+d+sides, ie !roll 1d100 or !roll 3d8+5. It can Fudge dice 'dF.1 or 4dF', roll Percentile '1d% or 4d%', Kill '3d10!k2', Min/Max modifiers '4d6max3 or 6d6min2', Explode '2d6! or 4d10!&lt;=3', Compound '2d6!!', Penetrating '2d6!p', Reroll 'd6r,&nbsp; d6ro or 4d10r&lt;=3', Keep and a whole lot more! You can read more on this incredible rolling engine at <a href=\"https://greenimp.github.io/rpg-dice-roller/guide/notation/modifiers.html#min-min-n\" target=\"_blank\" rel=\"noopener\">https://greenimp.github.io/rpg-dice-roller/guide/notation/modifiers.html#min-min-n</a></div>\n<div>&nbsp;</div>\n<div><strong>Join Announcement </strong>- Supposedly sends messages to people who join your channel, however it may be depreciated and therefor only here until I take it out. If it actually works, please drop me a line!</div>\n</div>\n<div>&nbsp;</div>\n<h3><strong>Features:</strong></h3>\n<p><strong>Roll Request -&nbsp;</strong>You can request a roll from a Twitch viewer. If the Who: field is left blank, anyone in the stream will have the chance to roll, if it's filled in, only that viewer can roll the dice. When rolled (ie !gm 1d100), the viewer will roll the dice in Foundry instead of in the Twitch chat. If you have Dice So Nice! enabled it will trigger them to roll on the screen as well. Rolls will appear in the Foundry tab.</p>\n<p>&nbsp;</p>\n<p><strong>Emote/Raw Message</strong> - Send a message as an emote or as raw. Raw is useful for passing commands to the Twitch IRC directly that have not been implemented in FSM at this time.</p>\n<p>&nbsp;</p>\n<p><strong>Clear Twitch Chat</strong> - Clears the chat history window.</p>\n<p>&nbsp;</p>\n<p><strong>Twitch Channel Chat Rate</strong> - Time is entered in seconds. It determines the amount of time between messages before a viewer can send aother. Default is 30 seconds.</p>\n<p>&nbsp;</p>\n<p><strong>Timeout</strong> - Temporarily bans a viewer from chatting. You can remove a timeout from here as well.</p>\n<p>&nbsp;</p>\n<p><strong>Ban</strong> - Bans a player from your channel. Unbanning is also possible.</p>\n<p>&nbsp;</p>\n<p><strong>Raid Channel </strong>- Raids help streamers send their viewers to another live channel at the end of their stream to introduce their audience to a new channel and have a little fun along the way. Raiding a channel at the end of your stream can be a great way to help another streamer grow his or her community. Keep in mind, you must have the browser open to Twitch to confirm the raid.</p>\n<div>&nbsp;</div>\n<h3 style=\"text-align: center;\"><strong>Release Notes:</strong></h3>\n<div>&nbsp;</div>\n<div><strong>## Release 0.1.8</strong></div>\n<div>- Added inline tabbed chatting system! FSM now comes with a tabbed chatting system built in. By default this is on, however it can be turned off by enabling Legacy Mode.</div>\n<div>The tabbed chat is simple and a convenient way to keep the Foundry chat you know but also provide a separate tab where all Twitch messages go. It has been tested with</div>\n<div>Tabbed Chatlog and doesn't appear to have any conflicts, at least on my setup, your mileage might vary depending on what modules that affect the chat system you are running.</div>\n<div>- Added /stream hiding. For those broadcasting using the built in stream resources of Foundry you may want to hide the tabbed chat from your overlay. By default this</div>\n<div>feature is not enabled.</div>\n<div>- In game documentation created as an installed Journal Entry.</div>\n<div>- Reorganized the code from the ground up.</div>\n<br />\n<div><strong>## Release 0.1.7</strong></div>\n<div>- Just some minor tweaking and cleaning up some errant code.</div>\n<br />\n<div><strong>## Release 0.1.6r</strong></div>\n<div>- Added GM roll requests. GM/Moderator can ask Twitch viewers for a roll (ie 1d100 or 4d6+4, etc) and the first person to respond will</div>\n<div>roll the dice in Foundry. IF GM/Moderator specifies a viewer name it will wait for that player to roll, ignoring anyone else. A great</div>\n<div>way to make your viewers more involved with your games! Also works with Dice-so-Nice!</div>\n<div>- Join notifications/messages. This may be depreciated, testing it out to see if it works. May be limited on large channels and only</div>\n<div>sends messages in batches whenever it feels like it.</div>\n<div>- Emote/ Broadcast button added to canvas layer.</div>\n<div>- Added a filter to stop excess roll results and announcements.</div>\n<div>- Added configuration option to turn off Dice Roller in Twitch chat, this does not affect GM/Mod request rolls.</div>\n<br />\n<div><strong>## Release 0.1.5r</strong></div>\n<div>- Added a dice roller for viewers on Twitch. Now viewers can roll along with your players in Twitch! Just type !roll 3d8+5 etc in the</div>\n<div>Twitch chat and they can roll alongside you! Added a filter to catch the roll requests so they don't clutter up the chat window. The</div>\n<div>roller can handle multiple types of dice, with a range of modifiers and mathematical functions!</div>\n<div>- Added an initial response for Subs and re-Subs. I think this works but I don't have any subs to test it out. lol</div>\n<div>- Added two customizeable timed announcements for the channel. Announcements can be set up to fire every x number of seconds, use it to</div>\n<div>let new viewers know what's going on, or even how to use that fancy new dice roller!</div>\n<div>- Created macro usuable functions, streamOut, streamIn, triggerStream and awaitStream. These will most likely be refined over time and more will be</div>\n<div>added as needed. Unfortunately the Twitch API is limited in information that it passes along so tasks such as recognizing Followers is not</div>\n<div>supported at this time. I added a file called fsmMacro.js on Github with some examples of use. Macro capability is not very robust at this</div>\n<div>time but it's definitely a start!</div>\n<div>- Reworked structure, as always.</div>\n<br />\n<div><strong>## Release 0.1.4</strong></div>\n<div>- Added whisper filter, this stops all private messages between players or gm/players from being relayed.</div>\n<div>- Added Quiet mode, stops rolls such as attack, checks and spells from being relayed into stream chat.</div>\n<div>- Changed the way the speaker of a message from Foundry is identified on the Twitch chat. Speaker is now highlighted as \\[Speaker\\]:</div>\n<br />\n<div><strong>## Release 0.1.3</strong></div>\n<div>- Added ability to set the chat card type. Depending on modules being used, such as Tabbed Chatlog, changing the type of message will affect</div>\n<div>where the messages from the stream appears in Foundry. Choices are OOC, IC, Emote, Roll and Other.</div>\n<div>- Added option to connect to a stream channel chat silently without announcement. While useful for testing, it may not be desireable to</div>\n<div>have it announce a connection in a situation where there might be frequent reconnects.</div>\n<div>- Changed the Moderation Role configuration to a drop down style selection instead of a string input.</div>\n<br />\n<div><strong>## Release 0.1.2</strong></div>\n<div>- Added filters in Foundry=&gt;Twitch hook to remove extraneous information being sent to Twitch chat.</div>\n<div>- Created modLayers.js, moved canvas layer control functions from main module.</div>\n<div>- Updated utils.js to remove unused code.</div>\n<br />\n<div><strong>## Initial Public Release - 21.01.19</strong></div>\n<div>- Foundry Stream Modue is a mod for integrating Twitch chat from streams into Foundry Virtual Tabletop. Foundry Stream Module sends player chats, rolls, interactions to the Twitch stream chat and allows viewers in the Twitch chat to send messages to the players as an out of character message. GM's or another configurable user role can also moderate the Twitch chat via canvas control buttons for actions such as Clear, Timeout, Ban, Slow and Raid.</div>\n<br />\n<div><em>### New Features</em></div>\n<div>- Integrate chat between Foundry and Twitch.</div>\n<div>- Moderation of Twitch chat channels.</div>\n<br />\n<div><em>### Bug Fixes</em></div>\n<div>- Added a redundancy check to stop duplicate messages when more than one GM was on the server.</div>\n<br />\n<div><em>### Improvements</em></div>\n<div>- Improved the handling of configuration to just GM roles over the previous GM and User roles.</div>\n</div>","_id":"7sXOw8FeMcLVnQGU"}
